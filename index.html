<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>CastWeather â€¢ Farcaster MiniApp</title>
  <meta name="theme-color" content="#9d4df1" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="description" content="Get live weather, daily forecasts, adaptive greetings, and morning notifications right inside Farcaster." />
  
  <meta property="og:title" content="Weather â€¢ Farcaster MiniApp" />
  <meta property="og:description" content="Get live weather, daily forecasts, and adaptive greetings right inside Farcaster." />
  <meta property="og:image" content="/image.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="stylesheet" href="/src/style.css" />
</head>
<body class="bg-night">
  <div class="wrap">
    <div class="card" role="region" aria-label="Weather app">
      <div class="header">
        <div class="title" aria-live="polite">
          <img src="/icon.png" alt="CastWeather logo" style="width: 24px; height: 24px; border-radius: 4px;">
          <span>Weather</span>
          <span class="badge">Farcaster</span>
          <span class="user-badge" id="user-fid" style="display:none"></span>
        </div>
        <button id="btn-myloc" class="ghost" title="Back to my location" aria-label="Back to my location">ğŸ“</button>
      </div>

      <div class="search" role="search">
        <input id="city" type="text" inputmode="search" placeholder="Search city (e.g., Bangalore)" aria-label="Search city" />
        <button id="btn-search" aria-label="Search weather">Search</button>
      </div>

      <div class="hero" aria-live="polite">
        <div style="font-size:38px" id="emoji">â›…</div>
        <div>
          <div class="temp" id="temp">--Â°C</div>
          <div class="condition" id="cond">Loading...</div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <div class="chip" title="Humidity"><span>ğŸ’§</span><span id="humid">--%</span></div>
        </div>
        <div class="col">
          <div class="chip" title="Wind speed"><span>ğŸƒ</span><span id="wind">-- km/h</span></div>
        </div>
      </div>

      <div class="grid" aria-label="Details">
        <div class="cell"><span>Feels like</span><span id="feels">--Â°C</span></div>
        <div class="cell"><span>Local time</span><span id="ltime">--:--</span></div>
      </div>

      <div class="forecast" id="forecast" aria-label="Forecast"></div>

      <div class="greeting" id="greeting" role="status">Fetching your greetingâ€¦</div>

      <div class="share-row">
        <button id="btn-cast" title="Cast weather on Farcaster">ğŸŸ£ CastWeather</button>
        <button id="btn-copy" class="ghost" title="Copy weather">ğŸ“‹ Copy</button>
      </div>

      <div class="share-row">
        <button id="btn-add-miniapp" class="ghost" title="Add to your mini apps">â• Add MiniApp</button>
      </div>

      <div class="foot">
        <div class="hint" id="status">Detecting locationâ€¦</div>
        <div class="small" id="refresh">Updated â€¢ â€”</div>
      </div>
    </div>
  </div>

  <div id="locationModal" class="modal">
    <div class="modal-content">
      <h3 id="modal-title">ğŸ“ Enable Location Access</h3>
      <p id="modal-message">To get accurate weather for your area, please allow location access in your browser settings.</p>
      <button id="retryLocation" class="ghost">Retry Location</button>
      <button id="useIP" class="close">Use Approximate Location</button>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
